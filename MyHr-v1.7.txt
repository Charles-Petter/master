drop table if exists departments;

/*部门表*/
create table departments(
	department_number  int not null primary key,
	department_name varchar(255),
	department_type varchar(255),
	department_head varchar(255),
	phone varchar(16),
	fax varchar(255),
	describe varchar(255),
	superior_department varchar(255),
	incorporation_date date
);

comment on column departments.department_number  is '部门编号';
comment on column departments.department_name is '部门名称';
comment on column departments.department_type is '部门类型';
comment on column departments.department_head is '部门主管员工编号';
comment on column departments.phone is '部门电话';
comment on column departments.fax is '传真';
comment on column departments.describe is '描述';
comment on column departments.superior_department is '上级部门';
comment on column departments.incorporation_date is '成立日期';

drop table if exists post_tables;

/*岗位表*/
create table post_tables(
	post_number int not null primary key,
	post_name varchar(255),
	department_number int not null,
	post_type varchar(255),
	post_establishment varchar(255)
);

comment on column post_tables.post_number is '岗位编号';
comment on column post_tables.post_name is '岗位名称';
comment on column post_tables.department_number  is '部门编号';
comment on column post_tables.post_type is '岗位类型';
comment on column post_tables.post_establishment is '岗位编制';

drop table if exists employees;

/*员工表*/
create table employees(
	id varchar(255) primary key not null,
	password varchar(255) not null,
	employee_type varchar(10) default '员工',
	name varchar(255),
	sex varchar(10) default '男',
	birthday date,
	id_card varchar(20) not null,
	political varchar(255),
	nation varchar(255),
	native_place varchar(255),
	phone varchar(16),
	email varchar(255),
	height int,
	blood_type varchar(10),
	marital_status varchar(10),
	birthplace varchar(255),
	registered_residence varchar(255),
	department_number int not null,
	department_name varchar(255) not null,
	post_number int not null,
	post_name varchar(255) not null,
	entry_date date not null,
	employment_form varchar(255) not null,
	personnel_source varchar(255),
	highest_education varchar(255),
	graduation_school varchar(255),
	major_studied varchar(255),
	graduation_date date,
	is_quit varchar(10),
	foreign key(department_number) references departments(department_number),
	foreign key(post_number) references post_tables(post_number)
);

comment on column employees.id is '员工编号';
comment on column employees.password is '密码';
comment on column employees.employee_type is '员工类型';
comment on column employees.name is '姓名';
comment on column employees.sex is '性别';
comment on column employees.birthday is '出生日期';
comment on column employees.id_card is '身份证号';
comment on column employees.political is '政治面貌';
comment on column employees.nation is '民族';
comment on column employees.native_place is '籍贯';
comment on column employees.phone is '电话';
comment on column employees.email is '电子邮箱';
comment on column employees.height is '身高';
comment on column employees.blood_type is '血型';
comment on column employees.marital_status is '婚姻状况';
comment on column employees.birthplace is '出生地';
comment on column employees.registered_residence is '户口所在地';
comment on column employees.department_number  is '部门编号';
comment on column employees.department_name  is '部门名称';
comment on column employees.post_number is '岗位编号';
comment on column employees.post_name is '岗位名称';
comment on column employees.entry_date is '入职日期';
comment on column employees.employment_form is '用工形式';
comment on column employees.personnel_source is '人员来源';
comment on column employees.highest_education is '最高学历';
comment on column employees.graduation_school is '毕业院校';
comment on column employees.major_studied is '所学专业';
comment on column employees.graduation_date is '毕业日期';
comment on column employees.is_quit is '是否离职';

drop table if exists resigned_employees;

/*离职员工表*/
create table resigned_employees(
	id varchar(255) not null primary key,
	name varchar(255),
	sex varchar(10),
	resignation_date date,
	reasons_for_resignation varchar(255),
	department_number int not null,
	department_name varchar(255),
	post_number int not null,
	post_name varchar(255)
);

comment on column resigned_employees.id is '员工编号';
comment on column resigned_employees.name is '姓名';
comment on column resigned_employees.sex is '性别';
comment on column resigned_employees.resignation_date is '离职日期';
comment on column resigned_employees.reasons_for_resignation is '离职原因';
comment on column resigned_employees.department_number is '部门编号';
comment on column resigned_employees.department_name is '部门名称';
comment on column resigned_employees.post_number is '岗位编号';
comment on column resigned_employees.post_name is '岗位名称';

drop table if exists department_transfer_employee_tables;

/*部门调动员工表*/
create table department_transfer_employee_tables(
	transfer_id int not null primary key,
	id varchar(255) not null,
	name varchar(255),
	sex varchar(10),
	original_department_number int not null,
	original_department_name varchar(255),
	new_department_number int not null,
	new_department_name varchar(255),
	transfer_date date,
	reasons_for_transfer varchar(255)
);

comment on column department_transfer_employee_tables.transfer_id is '部门调动编号';
comment on column department_transfer_employee_tables.id is '员工编号';
comment on column department_transfer_employee_tables.name is '姓名';
comment on column department_transfer_employee_tables.sex is '性别';
comment on column department_transfer_employee_tables.original_department_number is '原部门编号';
comment on column department_transfer_employee_tables.original_department_name is '原部门名称';
comment on column department_transfer_employee_tables.new_department_number is '新部门编号';
comment on column department_transfer_employee_tables.new_department_name is '新部门名称';
comment on column department_transfer_employee_tables.transfer_date is '调动日期';
comment on column department_transfer_employee_tables.reasons_for_transfer is '调动原因';

drop table if exists post_transfer_employee_tables;

/*岗位调动员工表*/
create table post_transfer_employee_tables(
	transfer_id int not null primary key,
	id varchar(255) not null,
	name varchar(255),
	sex varchar(10),
	original_post_number int not null,
	original_post_name varchar(255),
	new_post_number int not null,
	new_post_name varchar(255),
	transfer_date date,
	reasons_for_transfer varchar(255)
);

comment on column post_transfer_employee_tables.transfer_id is '岗位调动编号';
comment on column post_transfer_employee_tables.id is '员工编号';
comment on column post_transfer_employee_tables.name is '姓名';
comment on column post_transfer_employee_tables.sex is '性别';
comment on column post_transfer_employee_tables.original_post_number is '原岗位编号';
comment on column post_transfer_employee_tables.original_post_name is '原岗位名称';
comment on column post_transfer_employee_tables.new_post_number is '新岗位编号';
comment on column post_transfer_employee_tables.new_post_name is '新岗位名称';
comment on column post_transfer_employee_tables.transfer_date is '调动日期';
comment on column post_transfer_employee_tables.reasons_for_transfer is '调动原因';

drop table if exists post_applications;

/*岗位申请*/
create table post_applications(
	application_id serial not null primary key,
	id varchar(255) not null,
	name varchar(255),
	original_department_name varchar(255) not null,
	new_department_name varchar(255) not null,
	original_post_name varchar(255) not null,
	new_post_name varchar(255) not null,
	is_agree int default 0,
	reason_for_application varchar(255) not null
);

comment on column post_applications.application_id is '申请编号';
comment on column post_applications.id is '员工编号';
comment on column post_applications.name is '姓名';
comment on column post_applications.original_department_name is '原部门名称';
comment on column post_applications.new_department_name is '新部门名称';
comment on column post_applications.original_post_name is '原岗位名称';
comment on column post_applications.new_post_name is '新岗位名称';
comment on column post_applications.is_agree is '领导是否同意';
comment on column post_applications.reason_for_application is '申请原因';

drop table if exists talent_pools;

/*人才库*/
create table talent_pools(
	talent_id int primary key not null,
	name varchar(255),
	sex varchar(10) default '男',
	birthday date,
	id_card varchar(20) not null,
	political varchar(255),
	nation varchar(255),
	native_place varchar(255),
	phone varchar(16),
	email varchar(255),
	height int,
	blood_type varchar(10),
	marital_status varchar(10),
	birthplace varchar(255),
	registered_residence varchar(255),
	department_name varchar(255) not null,
	post_name varchar(255) not null,
	employment_form varchar(255) not null,
	personnel_source varchar(255),
	highest_education varchar(255),
	graduation_school varchar(255),
	major_studied varchar(255),
	graduation_date date,
	is_agree int default 0
);

comment on column talent_pools.talent_id is '人才编号';
comment on column talent_pools.name is '姓名';
comment on column talent_pools.sex is '性别';
comment on column talent_pools.birthday is '出生日期';
comment on column talent_pools.id_card is '身份证号';
comment on column talent_pools.political is '政治面貌';
comment on column talent_pools.nation is '民族';
comment on column talent_pools.native_place is '籍贯';
comment on column talent_pools.phone is '电话';
comment on column talent_pools.email is '电子邮箱';
comment on column talent_pools.height is '身高';
comment on column talent_pools.blood_type is '血型';
comment on column talent_pools.marital_status is '婚姻状况';
comment on column talent_pools.birthplace is '出生地';
comment on column talent_pools.registered_residence is '户口所在地';
comment on column talent_pools.department_name  is '部门名称';
comment on column talent_pools.post_name is '岗位名称';
comment on column talent_pools.employment_form is '用工形式';
comment on column talent_pools.personnel_source is '人员来源';
comment on column talent_pools.highest_education is '最高学历';
comment on column talent_pools.graduation_school is '毕业院校';
comment on column talent_pools.major_studied is '所学专业';
comment on column talent_pools.graduation_date is '毕业日期';
comment on column talent_pools.is_agree is '领导是否同意';


insert into departments values(1000, '开发部', '一级部门', '20210002', '047100001111', '000111', '软件开发部门', '开发部', '2010-1-1');
insert into departments values(1001, '运维部', '二级部门', '20210003', '047100002222', '000222', '软件运行与维护部门', '开发部', '2010-1-2');
insert into departments values(1002, '测试部', '二级部门', '20210004', '047100003333', '000333', '软件测试部门', '开发部', '2010-1-3');
insert into departments values(1003, '设计部', '二级部门', '20210005', '047100004444', '000444', '软件架构设计部门', '开发部', '2010-1-4');
insert into departments values(1004, '策划部', '二级部门', '20210006', '047100005555', '000555', '软件需求分析部门', '开发部', '2010-1-5');

insert into post_tables values(10, 'C++开发', 1000, '开发岗', '无编制');
insert into post_tables values(11, 'Java开发', 1000, '开发岗', '无编制');
insert into post_tables values(12, 'C#开发', 1000, '开发岗', '无编制');
insert into post_tables values(13, 'Python开发', 1000, '开发岗', '无编制');
insert into post_tables values(14, 'Go开发', 1000, '开发岗', '无编制');
insert into post_tables values(20, '云运维', 1001, '运维岗', '有编制');
insert into post_tables values(21, '服务器运维', 1001, '运维岗', '无编制');
insert into post_tables values(30, 'Bug测试', 1002, '测试岗', '有编制');
insert into post_tables values(31, '系统测试', 1002, '测试岗', '有编制');
insert into post_tables values(40, 'UI设计', 1003, '设计岗', '无编制');
insert into post_tables values(41, '动画设计', 1003, '设计岗', '无编制');
insert into post_tables values(50, '策划', 1004, '策划岗', '无编制');
insert into post_tables values(51, '系统策划', 1004, '策划岗', '有编制');

insert into employees values('20210001', '123456', '总裁', '张三', '男', '2000-1-1', '150104200001010010', '群众', '汉族', '北京市朝阳区', '18100001111', '123456789@qq.com', '180', 'O型', '未婚', '北京市朝阳区', '北京市朝阳区', 1000,  '开发部', 10, 'C++开发', '2021-1-1', '实习生', '校招', '本科', '北京大学', '软件工程', '2020-6-1', '否');
insert into employees values('20210002', '123456', '主管', '李四', '男', '2001-1-1', '150104200101010010', '群众', '汉族', '北京市朝阳区', '18100001112', '123454789@qq.com', '185', 'O型', '未婚', '北京市朝阳区', '北京市朝阳区', 1000,  '开发部', 10, 'C++开发', '2021-1-2', '实习生', '校招', '本科', '北京大学', '人工智能', '2020-6-1', '否');
insert into employees values('20210003', '123456', '主管', '王五', '女', '2000-1-2', '150104200001020020', '共青团员', '蒙古族', '辽宁省大连市金州区', '18100002222', '123456788@qq.com', '170', 'A型', '已婚', '辽宁省大连市金州区', '辽宁省大连市金州区', 1001, '运维部', 20, '云运维', '2021-1-2', '正式职工', '校招', '硕士', '南京大学', '计算机科学与技术', '2019-6-1', '否');
insert into employees values('20210004', '123456', '主管', '赵六', '男', '2000-1-3', '150104200001030010', '共青团员', '汉族', '内蒙古自治区呼和浩特市玉泉区', '18100003333', '123456787@qq.com', '185', 'B型', '未婚', '内蒙古自治区呼和浩特市玉泉区', '内蒙古自治区呼和浩特市玉泉区', 1002, '测试部', 31, '系统测试', '2021-1-3', '实习生', '社招', '本科', '清华大学', '网络工程', '2020-6-1', '否');
insert into employees values('20210005', '123456', '主管', '高七', '男', '2000-1-4', '150104200001040010', '中共党员', '回族', '辽宁省沈阳市和平区', '18100004444', '123456786@qq.com', '175', 'AB型', '已婚', '辽宁省沈阳市和平区', '辽宁省沈阳市和平区', 1003, '设计部',  41, '动画设计', '2021-1-4', '正式职工', '校招', '本科', '东北大学', '软件工程', '2018-6-1', '否');
insert into employees values('20210006', '123456', '主管', '贾八', '女', '2000-1-5', '150104200001050020', '群众', '高山族', '广东省广州市白云区', '18100005555', '123456785@qq.com', '165', 'O型', '未婚', '广东省广州市白云区', '广东省广州市白云区', 1004, '策划部', 50, '策划', '2021-1-5', '实习生', '社招', '硕士', '华南理工大学', '人工智能', '2020-6-1', '否');

insert into employees values('20210007', '123456', '员工', '赵子龙', '男', '2000-1-6', '150104200001060020', '群众', '高山族', '广东省广州市白云区', '18100006666', '123456784@qq.com', '165', 'O型', '已婚', '广东省广州市白云区', '广东省广州市白云区', 1004, '策划部', 50, '策划', '2021-1-5', '实习生', '社招', '硕士', '华南理工大学', '人工智能', '2020-6-1', '否');
insert into employees values('20210008', '123456', '员工', '王惠', '女', '2000-1-7', '150104200001070020', '中共党员', '蒙古族', '广东省广州市白云区', '18100007777', '123456783@qq.com', '175', 'B型', '未婚', '广东省广州市白云区', '广东省广州市白云区', 1004, '策划部', 50, '策划', '2021-1-5', '实习生', '社招', '硕士', '华南理工大学', '人工智能', '2020-6-1', '否');
insert into employees values('20210009', '123456', '员工', '高展飞', '女', '2000-1-8', '150104200001080020', '共青团员', '保安族', '广东省广州市白云区', '18100008888', '123456782@qq.com', '180', 'O型', '已婚', '广东省广州市白云区', '广东省广州市白云区', 1004, '策划部', 50, '策划', '2021-1-5-', '实习生', '社招', '博士', '华南理工大学', '人工智能', '2020-6-1', '否');
insert into employees values('20210010', '123456', '员工', '李峰', '男', '2000-1-9', '150104200001090020', '群众', '苗族', '广东省广州市白云区', '18100009999', '123456781@qq.com', '175', 'AB型', '未婚', '广东省广州市白云区', '广东省广州市白云区', 1004, '策划部', 50, '策划', '2021-1-5-', '实习生', '社招', '博士', '华南理工大学', '人工智能', '2020-6-1', '否');
insert into employees values('20210011', '123456', '员工', '陈明', '女', '2000-1-10', '150104200001100020', '群众', '壮族', '广东省广州市白云区', '18100010000', '123456780@qq.com', '170', 'A型', '未婚', '广东省广州市白云区', '广东省广州市白云区', 1004, '策划部', 50, '策划', '2021-1-5', '实习生', '社招', '本科', '华南理工大学', '人工智能', '2020-6-1', '否');
insert into employees values('20210012', '123456', '员工', '吴军', '男', '2000-1-11', '150104200001110020', '群众', '汉族', '广东省广州市白云区', '18100011111', '123456779@qq.com', '185', 'O型', '未婚', '广东省广州市白云区', '广东省广州市白云区', 1004, '策划部', 50, '策划', '2021-1-5', '实习生', '社招', '本科', '华南理工大学', '人工智能', '2020-6-1', '否');

insert into talent_pools values(0, '亚索', '男', '2000-1-1', '150101200001010010', '群众', '汉族', '上海市静安区', '19100001111', '111222333@qq.com', '180', 'B型', '未婚', '上海市静安区', '上海市静安区', '开发部', 'Go开发', '实习生', '校招', '本科', '复旦大学', '数据科学', '2020-6-1', 0);
